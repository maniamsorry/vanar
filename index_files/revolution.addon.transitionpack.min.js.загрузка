!function(){"use strict";window._R_is_Editor?RVS._R=void 0===RVS._R?{}:RVS._R:window._R_is_Editor=!1,jQuery.fn.revolution=jQuery.fn.revolution||{};var e=window._R_is_Editor?RVS._R:jQuery.fn.revolution;function t(e){var t,a,r,i=e.opt,n=i.twa-.5,s="simple"===i.twe?0:1,o=!!i.twf;return i.twc?(t="\n		varying vec2 vUv;\n		varying float opacity;\n\n		uniform float twistValue;\n		uniform float twistProg;\n		uniform float anchor;\n		uniform float twistStart;\n		uniform float twistEf;\n		uniform float twistDir;\n		uniform float twistDist;\n		uniform int uvPos;\n\n		mat4 rotation3d(vec3 axis, float angle) {\n			axis = normalize(axis);\n			float s = sin(angle);\n			float c = cos(angle);\n			float oc = 1.0 - c;\n	\n			return mat4(\n			oc * axis.x * axis.x + c,           oc * axis.x * axis.y - axis.z * s,  oc * axis.z * axis.x + axis.y * s,  0.0,\n			oc * axis.x * axis.y + axis.z * s,  oc * axis.y * axis.y + c,           oc * axis.y * axis.z - axis.x * s,  0.0,\n			oc * axis.z * axis.x - axis.y * s,  oc * axis.y * axis.z + axis.x * s,  oc * axis.z * axis.z + c,           0.0,\n			0.0,                                0.0,                                0.0,                                1.0\n			);\n		}\n\n		vec3 rotate(vec3 v, vec3 axis, float angle) {\n			return (rotation3d(axis, angle) * vec4(v, 1.0)).xyz;\n		}\n\n		void main() {\n			vUv = uv;\n	\n			vec3 pos = position;\n	\n			vec3 axis = uvPos == 0 ? vec3(1., 0., 0.) : vec3(0., 1., 0.);\n			float twist = -twistValue;\n			float angle = 0.0;\n			\n			if(twistEf == 1.0) {\n				opacity = twistDir == 1. ? smoothstep(twistStart, twistStart - twistDist, pos[uvPos]) : smoothstep(twistStart -twistDist, twistStart, pos[uvPos]);\n				angle = smoothstep(twistStart, twistStart - twistDist, pos[uvPos]) * twist;\n			} else angle = (pos[uvPos] - anchor) * twist;\n			\n			vec3 rotated = rotate(vec3(pos.x , pos.y, pos.z), axis, angle);\n	\n			gl_Position = projectionMatrix * modelViewMatrix * vec4(rotated, 1.);\n		}\n		",a="\n		varying vec2 vUv;\n		varying float opacity;\n\n		uniform sampler2D uTexture;\n		uniform sampler2D uTexture1;\n		uniform float hideTexture;\n		uniform float twistProg;\n		uniform vec4 textureColor;\n		uniform vec4 shadowColor;\n		uniform float fogNear;\n		uniform float fogFar;\n		uniform vec4 fogColor;\n		uniform int uvPos;\n\n		float pi = 3.141592653;\n		void main() {\n			#ifdef USE_LOGDEPTHBUF_EXT\n				float depth = gl_FragDepthEXT / gl_FragCoord.w;\n			#else\n				float depth = gl_FragCoord.z / gl_FragCoord.w;\n			#endif\n\n			vec4 texture = texture2D(uTexture, vUv) * opacity \n			+ (mix(texture2D(uTexture1, vUv), textureColor, hideTexture)) * (1.0 - opacity);\n			\n			gl_FragColor = texture;\n\n			float range = (1. - sin((vUv[1 - uvPos]) * pi)) * twistProg;\n			gl_FragColor = mix(gl_FragColor, mix(gl_FragColor, shadowColor, shadowColor.a), range);\n			#ifdef USEFOG	\n				float fogFactor = smoothstep(fogNear, fogFar, depth);\n				gl_FragColor = mix(gl_FragColor, fogColor, fogFactor);\n			#endif\n		}",(r={twistValue:{value:0},twistProg:{value:0},uTexture:{value:e.coming},uTexture1:{value:void 0!==e.leaving?e.leaving:e.coming},twistStart:{value:-.5},anchor:{value:n},twistEf:{value:s},twistDist:{value:i.twdi},twistDir:{value:"right"===i.twd?0:1}}).hideTexture={value:void 0!==e.leaving||_R_is_Editor?0:1},r.textureColor={value:void 0===e.leaving?i.twf:[1,1,1,1]}):(t="\n		varying vec2 vUv;\n\n		uniform float twistValue;\n		uniform float twistProg;\n		uniform float anchor;\n		uniform float twistStart;\n		uniform float twistEf;\n		uniform float twistDir;\n		uniform float twistDist;\n		uniform int uvPos;\n\n		mat4 rotation3d(vec3 axis, float angle) {\n			axis = normalize(axis);\n			float s = sin(angle);\n			float c = cos(angle);\n			float oc = 1.0 - c;\n	\n			return mat4(\n			oc * axis.x * axis.x + c,           oc * axis.x * axis.y - axis.z * s,  oc * axis.z * axis.x + axis.y * s,  0.0,\n			oc * axis.x * axis.y + axis.z * s,  oc * axis.y * axis.y + c,           oc * axis.y * axis.z - axis.x * s,  0.0,\n			oc * axis.z * axis.x - axis.y * s,  oc * axis.y * axis.z + axis.x * s,  oc * axis.z * axis.z + c,           0.0,\n			0.0,                                0.0,                                0.0,                                1.0\n			);\n		}\n\n		vec3 rotate(vec3 v, vec3 axis, float angle) {\n			return (rotation3d(axis, angle) * vec4(v, 1.0)).xyz;\n		}\n\n		void main() {\n			vUv = uv;\n	\n			vec3 pos = position;\n			vec3 axis = uvPos == 0 ? vec3(1., 0., 0.) : vec3(0., 1., 0.);\n			float twist = -twistValue;\n			float angle = 0.0;\n			\n			if(twistEf == 1.0) {\n				angle = smoothstep(twistStart, twistStart - twistDist, pos[uvPos]) * twist;\n			} else angle = (pos[uvPos] - anchor) * twist;\n			\n			\n			vec3 rotated = rotate(vec3(pos.x , pos.y, pos.z), axis, angle);\n	\n			gl_Position = projectionMatrix * modelViewMatrix * vec4(rotated, 1.);\n		}\n		",a="\n		varying vec2 vUv;\n		uniform sampler2D uTexture;\n		uniform float fogNear;\n		uniform float fogFar;\n		uniform float twistValue;\n		uniform float twistProg;\n		uniform vec4 fogColor;\n		uniform vec4 shadowColor;\n		uniform int uvPos;\n\n		float pi = 3.141592653;\n		void main() {\n			#ifdef USE_LOGDEPTHBUF_EXT\n				float depth = gl_FragDepthEXT / gl_FragCoord.w;\n			#else\n				float depth = gl_FragCoord.z / gl_FragCoord.w;\n			#endif\n\n			gl_FragColor = texture2D(uTexture, vUv);\n			\n			float range = (1. - sin((vUv[1 - uvPos]) * pi)) * twistProg;\n			gl_FragColor = mix(gl_FragColor, mix(gl_FragColor, shadowColor, shadowColor.a), range);\n			\n			#ifdef USEFOG	\n				float fogFactor = smoothstep(fogNear, fogFar, depth);\n				gl_FragColor = mix(gl_FragColor, fogColor, fogFactor);\n			#endif\n			\n		}",r={twistValue:{value:0},twistProg:{value:0},uTexture:{value:e.map},twistStart:{value:-.5},anchor:{value:n},twistEf:{value:s},twistDist:{value:i.twdi},shadowColor:{value:i.tws}}),r.uvPos={value:i.vert?1:0},o&&(r.fogColor={value:i.twf},r.fogNear={type:"f",value:1},r.fogFar={type:"f",value:1}),new THREE.ShaderMaterial({vertexShader:t,fragmentShader:a,uniforms:r,defines:{PI:Math.PI,USEFOG:o},side:THREE.frontSide,transparent:!0})}function a(e){return e*Math.PI/180}function r(e,t){return"t1"!==t&&"t2"!==t&&(t="random"),"random"===t&&(t=Math.random()>.5?"t1":"t2"),"t1"===t?"1. - uv."+e:"uv."+e}function i(e){return 3==(e=tpGS.gsap.utils.splitColor(e)).length&&(e[3]=1),e[0]/=255,e[1]/=255,e[2]/=255,e}jQuery.extend(!0,e,{transitionpackInit:function(t,a){e.transitionPackUrl=void 0===a||window._R_is_Editor?RVS.ENV.TRANSITIONPACK_URL:a.url,THREE.Cache.enabled=!0},transitionPackUtils:{dplmlib:{1:{src:"transition/transition1.png"},2:{src:"transition/transition2.png"},3:{src:"transition/transition3.png"},4:{src:"transition/transition4.png"},5:{src:"transition/transition5.png"},6:{src:"transition/transition6.png"},7:{src:"displacement/disp1.jpg"},8:{src:"disp2.jpg"},9:{src:"displacement/disp3.jpg"},10:{src:"transition/transition7.png"},11:{src:"displacement/cracks.jpg"},12:{src:"displacement/tunnel.jpg"},13:{src:"displacement/waterfall.jpg"},14:{src:"displacement/wire.jpg"},15:{src:"displacement/zigzag.jpg"},16:{src:"displacement/paper.jpg"},17:{src:"transition/transition5v.png"}},addPASS:function(t,a){if(void 0!==e.postProcessing)switch(t.tpack.pp){case"glitches":t.tpack.ppga=parseFloat(t.tpack.ppga),t.tpack.ppgs=parseFloat(t.tpack.ppgs),t.tpack.ppgr=parseFloat(t.tpack.ppgr),t.tpack.ppgl=parseFloat(t.tpack.ppgl),t.three.postRendering=e.postProcessing[t.tpack.pp].init(t.three.renderer,t.three.scene,t.three.camera,{seed:t.tpack.ppgs,amount:t.tpack.ppga,repeat:t.tpack.ppgr,len:t.tpack.ppgl});break;case"glitch2":t.three.postRendering=e.postProcessing[t.tpack.pp].init(t.three.renderer,t.three.scene,t.three.camera,{duration:a.dur,width:t.mDIM.width,height:t.mDIM.height});break;case"blur":if("d3"===t.tpack.ppbt)t.tpack.ppbf=parseFloat(t.tpack.ppbf),t.tpack.ppbm=parseFloat(t.tpack.ppbm),t.tpack.ppba=parseFloat(t.tpack.ppba),t.three.postRendering=e.postProcessing[t.tpack.ppbt].init(t.three.renderer,t.three.scene,t.three.camera,{focus:t.tpack.ppbf,aperture:1e-4*t.tpack.ppba,maxblur:.001*t.tpack.ppbm,width:t.mDIM.width,height:t.mDIM.height});else if("motion"===t.tpack.ppbt){var r={};"skew"==t.tpack.ef&&1==t.tpack.sh&&(r.name="m=qinticOut(m, 10.);",r.function="float qinticOut(float t, float power) { return 1.0 - pow(1. - t, power); }"),isNaN(Math.round(t.tpack.smartX))||isNaN(Math.round(t.tpack.smartY))||(t.three.postRendering=e.postProcessing[t.tpack.ppbt].init(t.three.renderer,t.three.scene,t.three.camera,{left:Math.round(t.tpack.smartX),top:Math.round(t.tpack.smartY),width:t.mDIM.width,height:t.mDIM.height},r))}break;case"film":t.tpack.ppfn=parseFloat(t.tpack.ppfn),t.tpack.ppfs=parseFloat(t.tpack.ppfs),t.tpack.ppfh=parseFloat(t.tpack.ppfh),t.tpack.ppfbw="true"==t.tpack.ppfbw||1==t.tpack.ppfbw&&"false"!=t.tpack.ppfbw,t.three.postRendering=e.postProcessing[t.tpack.pp].init(t.three.renderer,t.three.scene,t.three.camera,{noise:t.tpack.ppfn/100,scale:t.tpack.ppfs/100,size:t.tpack.ppfh,grayscale:t.tpack.ppfbw})}},fitCameraToObject:function(t){t.three.lastDim={width:t.mDIM.width,height:t.mDIM.height},t.three.camera.aspect=t.mDIM.width/t.mDIM.height,"cubetwist"===t.tpack.ef&&t.mDIM.height>t.mDIM.width&&(t.three.camera.aspect=t.mDIM.height/t.mDIM.width),t.three.CY=1/t.three.camera.aspect,t.three.camera.updateProjectionMatrix(),t.three.renderer.setSize(t.mDIM.width,t.mDIM.height,!1),e.transitionPackEffects[t.callFromAnimatedCanvasUpdateEffect].fit(t),t.three.camera.fov=2*Math.atan(t.three.CY/(2*t.three.camera.position.z))*(180/Math.PI),t.three.camera.updateProjectionMatrix()},webGlSceneUpdate:function(t){void 0!==t&&void 0!==t.three&&void 0!==t.three.canvas&&void 0!==t.three.camera&&(void 0!==t.three.lastDim&&t.three.lastDim.width===t.mDIM.width&&t.three.lastDim.height===t.mDIM.height||e.transitionPackUtils.fitCameraToObject(t),(t.video||t.panzoom)&&(t.three.texture.needsUpdate=!0),t.three.camera.updateProjectionMatrix(),t.three.renderer.render(t.three.scene,t.three.camera),t.three.postRendering&&t.three.postRendering.effectPass&&t.three.postRendering.effectPass.uniforms&&t.three.postRendering.effectPass.uniforms.progress&&(t.three.postRendering.effectPass.uniforms.progress.value=t.three.progress.value),t.three.postRendering&&t.three.postRendering.composer&&t.three.postRendering.composer.render(),t.three.postRendering&&t.three.postRendering.nodepost&&t.postRendering.nodepost.render(t.three.scene,t.three.camera,t.postRendering.frame),"spin"!==t.tpack.ef&&"rings"!==t.tpack.ef&&"perspective"!==t.tpack.ef&&"zoom"!==t.tpack.ef&&"blur"!==t.tpack.ef||void 0===t.tpack.ao||"none"===t.tpack.ao||function(e){var t=parseFloat(e.tpack.ox)/100,a=parseFloat(e.tpack.oy)/100;if("center"===e.tpack.ao)t+=(1-t-.5)*e.three.progress.value,a+=(1-a-.5)*e.three.progress.value;else if("inverse"===e.tpack.ao)t+=(1-t-t)*e.three.progress.value,a+=(1-a-a)*e.three.progress.value;else{var r="";e.tpack.ao,r="M0,0 C0,31 12.502,53.904 21,71.666 23.297,76.474 41.612,87.014 41.612,87.014 41.612,87.014 55.195,91.292 59.191,89.37 65.079,86.535 74.337,76.113 76.821,70.068 79.289,64.058 79.603,50.337 77.786,44.101 76.012,38.014 68.806,26.324 63.206,23.354 58.575,20.897 46.201,21.762 42.33,25.295 38.918,28.407 39.793,39.227 40.895,43.712 41.873,47.695 50.179,57.243 50.179,57.243";var i={x:0,y:0},n=tpGS.gsap.to(i,{motionPath:{path:r},ease:"none"});n.pause().progress(e.three.progress.value),t=i.x/100,a=1-i.y/100,n.kill(),n=null}"perspective"===e.tpack.ef&&(e.three.material.uniforms.angle.value=Math.atan2(.5-t,.5-a)),e.three.material.uniforms.ox.value=t,e.three.material.uniforms.oy.value=a}(t))},getWebGLCanvas:function(){let e=document.createElement("canvas");return e.style.width="100%",e.style.height="100%",e.style.position="absolute",e.style.top="0px",e.style.left="0px",e.style.zIndex=2,e.width=1600,e.height=1200,{canvas:e}},getEndRotation:function(t,a,r){let i=90*e.SATools.getSpecialValue(e.valBeau(t),a,r);return 0===(i=(i=tpGS.gsap.utils.snap(90,i<0?Math.min(-90,i):Math.max(90,i)))%360==0?i+90:i)?90:i},getPlane:function(e,t){return new THREE.Mesh(new THREE.PlaneGeometry(1,1,2,2),t)},getCube:function(t,a,r,i,n){let s;return"col"===t?((s=new THREE.Mesh(new THREE.BoxBufferGeometry(a,1,1),r)).position.x=i*a-(.5-a/2),e.transitionPackUtils.cubeSidesUV(s.geometry.attributes.uv,a,1,1,i,0,0,t)):((s=new THREE.Mesh(new THREE.BoxBufferGeometry(1,a,1),r)).position.y=i*a*n-(.5*n-a*n/2),e.transitionPackUtils.cubeSidesUV(s.geometry.attributes.uv,1,a,1,0,i,0,t)),s},cubeSidesUV:function(e,t,a,r,i,n,s,o){e.setXY(0,s*r,(n+1)*a),e.setXY(1,(s+1)*r,(n+1)*a),e.setXY(2,s*r,n*a),e.setXY(3,(s+1)*r,n*a),e.setXY(4,s*r,(n+1)*a),e.setXY(5,(s+1)*r,(n+1)*a),e.setXY(6,s*r,n*a),e.setXY(7,(s+1)*r,n*a),e.setXY(8,i*t,r),e.setXY(9,(i+1)*t,r),e.setXY(10,i*t,0),e.setXY(11,(i+1)*t,0),e.setXY(12,i*t,r),e.setXY(13,(i+1)*t,r),e.setXY(14,i*t,0),e.setXY(15,(i+1)*t,0),e.setXY(16,i*t,(n+1)*a),e.setXY(17,(i+1)*t,(n+1)*a),e.setXY(18,i*t,n*a),e.setXY(19,(i+1)*t,n*a),"row"===o?(e.setXY(20,i*t,(n+1)*a),e.setXY(21,(i+1)*t,(n+1)*a),e.setXY(22,i*t,n*a),e.setXY(23,(i+1)*t,n*a)):(e.setXY(20,(i+1)*t,n*a),e.setXY(21,i*t,n*a),e.setXY(22,(i+1)*t,(n+1)*a),e.setXY(23,i*t,(n+1)*a)),e.needsUpdate=!0},getTpackDatas:function(e,t){if(void 0===t||""==t)return{};var a,r={},i=t.split(";");for(var n in i)i.hasOwnProperty(n)&&void 0!==(a=i[n].split(":"))[0]&&void 0!==a[1]&&(r[a[0]]=a[1]);return r}},transitionPackEffects:{defaults:function(){return{tpack:{sx:1,sy:1,sz:1,o:0,sr:1,rx:180,ry:180,rz:90,col:1,row:1,cgz:250,gz:250,gx:0,gy:0,ie:"power2.inOut",ige:"power2.inOut",pp:"none",ppbf:100,ppbm:4,ppba:20,ppbt:"motion",ppga:90,ppgr:5,ppgs:.3,ppgl:120,ppfn:80,ppfs:82,ppfh:256,ppfbw:!1,ef:"fade",dplm:1,mfl:0,dir:0,dbas:!1,tlt:0,rad:90,w:35,iny:1,x:0,y:0,z:250,td:1,ref:.4,flo:30,twe:"simple",twa:0,twv:230,twz:30,twd:"left",twdi:30,tws:"rgba(0, 0, 0, 0.7)",twf:"rgba(0, 0, 0, 0.7)",prange:100,stri:30,strs:1,strf:1,sko:0,sh:!1,shx:0,shy:0,shz:0,shr:0,shv:80,roz:-2,ox:50,oy:50,cicl:"rgba(0, 0, 0, 0.3)",cish:0,cispl:4,cimw:!1,cio:"alternate",cico:!1,ciad:!1,chm1:"random",chm2:"random",chm3:"random",chm4:"random"}}},tpbasic:{build:function(e,t){var a=e.three;a.CY=1/a.camera.aspect,a.scene.remove(a.light),a.light=new THREE.AmbientLight("#ffffff",1),a.scene.add(a.light),a.texture=new THREE.CanvasTexture(e.shadowCanvas),a.texture.wrapS=THREE.RepeatWrapping,a.texture.wrapT=THREE.RepeatWrapping,a.texture.repeat.set(1,1),window._R_is_Editor||void 0===t.BG||(a.texture_leaving=new THREE.CanvasTexture(t.BG.shadowCanvas),a.texture_leaving.wrapS=THREE.RepeatWrapping,a.texture_leaving.wrapT=THREE.RepeatWrapping,a.texture_leaving.repeat.set(1,1),a.material_leaving=new THREE.MeshPhongMaterial({transparent:!0,map:a.texture_leaving}))},init:function(t,a,r,i){t.tpack.ef="fadeb"===t.tpack.ef?"fade":t.tpack.ef,e.transitionPackEffects.tpbasic.build(t,r);var n=e.transitionPackEffects.tpbasic.getUniforms(t,r.sdir),s=window.TP_SHDRS[t.tpack.ef];"chaos"===t.tpack.ef&&(s=s.replace("#replaceChaos",n.replace),delete n.replace);var o={extensions:{derivatives:"#extension GL_OES_standard_derivatives : enable"},side:THREE.DoubleSide,uniforms:jQuery.extend(!0,{src1:{value:t.three.texture_leaving},src2:{value:t.three.texture},progress:{value:0},threshold:{value:.1},resolution:{value:new THREE.Vector4}},n),vertexShader:"varying vec2 vUv;void main() {vUv = uv;gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );}",fragmentShader:s};void 0!==n.defines&&(o.defines=n.defines,delete n.defines),o.fragmentShader="#if __VERSION__ < 130 \n#define TEXTURE2D texture2D \n#else \n#define TEXTURE2D texture \n#endif\n"+o.fragmentShader,t.three.material=new THREE.ShaderMaterial(o),e.transitionPackEffects.tpbasic.planeAndFit(t),e.transitionPackUtils.addPASS(t,a),e.transitionPackEffects.tpbasic.updateResolution(t)},getUniforms:function(t,n){let s;switch(t.tpack.smartX=e.SATools.getSpecialValue(e.valBeau(t.tpack.x),void 0,n),t.tpack.smartY=e.SATools.getSpecialValue(e.valBeau(t.tpack.y),void 0,n),t.tpack.smartZ=e.SATools.getSpecialValue(e.valBeau(t.tpack.z),void 0,n),t.tpack.smartTilt=e.SATools.getSpecialValue(e.valBeau(t.tpack.tlt),void 0,n),t.tpack.smartIntensity=e.SATools.getSpecialValue(e.valBeau(t.tpack.iny),void 0,n),1==t.tpack.dbas&&(t.tpack.dir=1===n?t.tpack.dir:0==t.tpack.dir?1:1==t.tpack.dir?0:2==t.tpack.dir?3:2),t.tpack.ef){case"fade":let o=void 0!==t.tpack.mfl&&0!=t.tpack.mfl&&(1==t.tpack.mfl||1!==n),l=17==t.tpack.dplm||6==t.tpack.dplm;s={flipx:{value:!l&&o},flipy:{value:!!l&&o},src1:{value:t.three.texture},src2:void 0===t.three.texture_leaving?{value:0}:{value:t.three.texture_leaving},displacement:{value:new THREE.TextureLoader().load(e.transitionPackUrl+"vanarchain/"+e.transitionPackUtils.dplmlib[t.tpack.dplm].src)}};break;case"wave":s={radius:{value:parseInt(t.tpack.rad)/100,min:.1,max:2},width:{value:parseInt(t.tpack.w)/100,min:0,max:1},displacement:{value:new THREE.TextureLoader().load(e.transitionPackUrl+"vanarchain/"+e.transitionPackUtils.dplmlib[t.tpack.dplm].src)}};break;case"burnover":s={displacement:{value:new THREE.TextureLoader().load(e.transitionPackUrl+"vanarchain/"+e.transitionPackUtils.dplmlib[t.tpack.dplm].src)}};break;case"burn":s={intensity:{value:.03*parseFloat(t.tpack.smartIntensity)},dir:{value:t.tpack.dir}};break;case"chaos":var c="vw.x = "+r("y",t.tpack.chm1)+" * "+r("x",t.tpack.chm2)+" * intensity; vw.y = "+r("x",t.tpack.chm3)+" * "+r("y",t.tpack.chm4)+" * intensity;";s={src1:window._R_is_Editor?{value:t.three.texture}:{value:t.three.texture_leaving},left:{value:Math.round(t.tpack.smartX)},top:{value:Math.round(t.tpack.smartY)},intensity:{value:parseFloat(t.tpack.smartIntensity)/10},prange:{value:parseInt(t.tpack.prange)/100*.5},replace:c};break;case"stretch":var p=parseInt(t.tpack.strs)/10,u=p<1?tpGS.gsap.utils.mapRange(0,1,100,10,p):tpGS.gsap.utils.mapRange(1,10,10,2,p);s={src1:window._R_is_Editor?{value:t.three.texture}:{value:t.three.texture_leaving},left:{value:Math.round(t.tpack.smartX)},top:{value:0==t.tpack.smartX?Math.round(t.tpack.smartY):0},dir:{value:0==t.tpack.smartX?2:1},intensity:{value:t.tpack.smartIntensity},twistIntensity:{value:parseInt(t.tpack.stri)/10},twistSize:{value:u},flipTwist:{value:t.tpack.strf?-1:1}};break;case"skew":var d=0!=t.tpack.smartX&&0!=t.tpack.smartY?0:0==t.tpack.smartX?2:1,$=e.SATools.getSpecialValue(e.valBeau(t.tpack.shr));s={src1:window._R_is_Editor?{value:t.three.texture}:{value:t.three.texture_leaving},left:{value:Math.round(t.tpack.smartX)},top:{value:Math.round(t.tpack.smartY)},dir:{value:d},intensity:{value:t.tpack.smartIntensity/100*(0==d?10:30)},origin:{value:parseInt(t.tpack.sko)/100},prange:{value:parseInt(t.tpack.prange)/100*.5},sh:{value:t.tpack.sh},shx:{value:e.SATools.getSpecialValue(e.valBeau(t.tpack.shx),void 0,n)/100},shy:{value:e.SATools.getSpecialValue(e.valBeau(t.tpack.shy),void 0,n)/100},shz:{value:e.SATools.getSpecialValue(e.valBeau(t.tpack.shz),void 0,n)/50},shr:{value:0===$?0:a($)},shv:{value:tpGS.gsap.utils.mapRange(0,100,6,1,parseInt(t.tpack.shv))}};break;case"perspective":var v=parseInt(t.tpack.ox)/100,m=parseInt(t.tpack.oy)/100,g=Math.atan2(.5-v,.5-m),f=e.SATools.getSpecialValue(e.valBeau(t.tpack.roz),void 0,n);s={src1:window._R_is_Editor?{value:t.three.texture}:{value:t.three.texture_leaving},ox:{value:v},oy:{value:m},intensity:{value:parseInt(t.tpack.pr)},rotation:{value:a(180*Math.round(f,void 0,n))},isShort:{value:f%2!=0},angle:{value:g},prange:{value:parseInt(t.tpack.prange)/100*.5}};break;case"spin":v=parseInt(t.tpack.ox)/100,m=parseInt(t.tpack.oy)/100;var h=0===t.tpack.smartIntensity?0:t.tpack.smartIntensity/100,_=(f=Math.round(e.SATools.getSpecialValue(e.valBeau(t.tpack.roz),void 0,n)),-t.tpack.smartZ);s={src1:window._R_is_Editor?{value:t.three.texture}:{value:t.three.texture_leaving},ox:{value:v},oy:{value:m},intensity:{value:h},roz:{value:f},zoom:{value:_>0?_/10:_/100},isShort:{value:f%2!=0},prange:{value:parseInt(t.tpack.prange)/100*.5}};break;case"rings":v=parseInt(t.tpack.ox)/100,m=parseInt(t.tpack.oy)/100,h=0===t.tpack.smartIntensity?0:t.tpack.smartIntensity/10,f=Math.round(e.SATools.getSpecialValue(e.valBeau(t.tpack.roz),void 0,n));var k="none"!=t.tpack.cio,x="none"==t.tpack.cio||"alternate"==t.tpack.cio?0:"grad"==t.tpack.cio?1:2,w=i(t.tpack.cicl);h=11-h,s={src1:window._R_is_Editor?{value:t.three.texture}:{value:t.three.texture_leaving},ox:{value:v},oy:{value:m},iny:{value:h},roz:{value:f},isShort:{value:f%2!=0},Splits:{value:t.tpack.cispl},iColor:{value:w},s:{value:parseInt(t.tpack.cish)/100},useo:{value:k},grado:{value:x},cover:{value:t.tpack.cico},altDir:{value:t.tpack.ciad},cnprog:{value:t.tpack.cimw},prange:{value:parseInt(t.tpack.prange)/100*.5},defines:{splits:t.tpack.cispl}};break;case"zoom":v=parseInt(t.tpack.ox)/100,m=parseInt(t.tpack.oy)/100,f=Math.round(e.SATools.getSpecialValue(e.valBeau(t.tpack.roz),void 0,n));var y=-parseFloat(t.tpack.zi),b=-parseFloat(t.tpack.zo),S=parseFloat(t.tpack.zwo),P=parseFloat(t.tpack.zwi);s={src1:window._R_is_Editor?{value:t.three.texture}:{value:t.three.texture_leaving},ox:{value:v},oy:{value:m},roz:{value:f},isShort:{value:f%2!=0},zOut:{value:b>0?b/10:b/100},zIn:{value:y>0?y/10:y/100},blur:{value:parseFloat(t.tpack.zb)/100},warpOut:{value:0===S?0:tpGS.gsap.utils.mapRange(0,100,10,.5,S)},warpIn:{value:0===P?0:tpGS.gsap.utils.mapRange(0,100,10,.5,parseFloat(P))},prange:{value:parseInt(t.tpack.prange)/100*.15},rEnd:{value:parseFloat(t.tpack.zre)/100}};break;case"cut":s={dir:{value:t.tpack.dir},width:{value:parseInt(t.tpack.w)/10,min:0,max:10},scaleX:{value:parseInt(t.tpack.ssx)/100*60,min:.1,max:60},scaleY:{value:parseInt(t.tpack.ssy)/100*60,min:.1,max:60},displacement:{value:new THREE.TextureLoader().load(e.transitionPackUrl+"vanarchain/"+e.transitionPackUtils.dplmlib[t.tpack.dplm].src)}};break;case"flat":s={src1:window._R_is_Editor?{value:t.three.texture}:{value:t.three.texture_leaving},left:{value:Math.round(t.tpack.smartX)},top:{value:Math.round(t.tpack.smartY)},tilt:{value:t.tpack.smartTilt/100},zoom:{value:t.tpack.smartZ/100},prange:{value:parseInt(t.tpack.prange)/100*.5}};break;case"pano":s={src1:window._R_is_Editor?{value:t.three.texture}:{value:t.three.texture_leaving},left:{value:Math.round(t.tpack.smartX)},top:{value:Math.round(t.tpack.smartY)},tilt:{value:t.tpack.smartTilt/100},pano:{value:1-t.tpack.smartIntensity/100},zoomOut:{value:t.tpack.smartZ/100},prange:{value:parseInt(t.tpack.prange)/100*.5}};break;case"overroll":s={src1:window._R_is_Editor?{value:t.three.texture}:{value:t.three.texture_leaving},dir:{value:t.tpack.dir},intensity:{value:.01*t.tpack.smartIntensity},displacement:{value:new THREE.TextureLoader().load(e.transitionPackUrl+"vanarchain/"+e.transitionPackUtils.dplmlib[t.tpack.dplm].src)}};break;case"water":s={intensity:{value:t.tpack.smartIntensity/100*10,min:0,max:10}};break;case"colorflow":var R=Math.round(t.tpack.smartX),z=Math.round(t.tpack.smartY);s={angle:{value:g=Math.atan2(R,z)-a(45)},left:{value:R=Math.abs(R)},top:{value:z=Math.abs(z)},intensity:{value:t.tpack.smartIntensity/100*3,min:0,max:3},displacement:{value:new THREE.TextureLoader().load(e.transitionPackUrl+"vanarchain/"+e.transitionPackUtils.dplmlib[t.tpack.dplm].src)}};break;case"zoomover":s={src1:window._R_is_Editor?{value:t.three.texture}:{value:t.three.texture_leaving},intensity:{value:t.tpack.smartIntensity/100,min:0,max:3}};break;case"morph":s={left:{value:Math.round(t.tpack.smartX)},top:{value:Math.round(t.tpack.smartY)},src1:window._R_is_Editor?{value:t.three.texture}:{value:t.three.texture_leaving},intensity:{value:t.tpack.smartIntensity/100,min:0,max:1}};break;case"blur":v=parseInt(t.tpack.ox)/100,m=parseInt(t.tpack.oy)/100,f=Math.round(e.SATools.getSpecialValue(e.valBeau(t.tpack.roz),void 0,n)),y=-parseFloat(t.tpack.zi),b=-parseFloat(t.tpack.zo),s={left:{value:Math.round(t.tpack.smartX)},top:{value:Math.round(t.tpack.smartY)},ox:{value:v},oy:{value:m},roz:{value:f},isShort:{value:f%2!=0},zOut:{value:b>0?b/10:b/100},zIn:{value:y>0?y/10:y/100},prange:{value:parseInt(t.tpack.prange)/100*.15},rEnd:{value:parseFloat(t.tpack.zre)/100},src1:window._R_is_Editor?{value:t.three.texture}:{value:t.three.texture_leaving},intensity:{value:t.tpack.smartIntensity/100,min:0,max:1}};break;case"waterdrop":s={src1:window._R_is_Editor?{value:t.three.texture}:{value:t.three.texture_leaving},speed:{value:t.tpack.smartIntensity},amplitude:{value:parseInt(t.tpack.rad)}};break;case"mosaic":s={src1:window._R_is_Editor?{value:t.three.texture}:{value:t.three.texture_leaving},endx:{value:t.tpack.smartX,min:-50,max:50},endy:{value:t.tpack.smartY,min:-50,max:50}};break;case"mirrorcube":s={src1:window._R_is_Editor?{value:t.three.texture}:{value:t.three.texture_leaving},persp:{value:.7},unzoom:{value:parseFloat(t.tpack.gz)/100},reflection:{value:t.tpack.ref},floating:{value:parseFloat(t.tpack.flo)/10}}}return s||{}},planeAndFit:function(t){t.three.plane=e.transitionPackUtils.getPlane(t,t.three.material,t.three.CY),t.three.scene.add(t.three.plane),e.transitionPackUtils.fitCameraToObject(t)},updateResolution:function(e){e.three.material.uniforms.resolution.value.x=e.mDIM.width,e.three.material.uniforms.resolution.value.y=e.mDIM.height,e.three.material.uniforms.resolution.value.z=1,e.three.material.uniforms.resolution.value.w=1,e.three.imageAspect=e.three.texture.image.height/e.three.texture.image.width,e.video||e.panzoom||(e.mDIM.height/e.mDIM.width>this.imageAspect?e.three.material.uniforms.resolution.value.z=e.mDIM.width/e.mDIM.height*e.three.imageAspect:e.three.material.uniforms.resolution.value.w=e.mDIM.height/e.mDIM.width/e.three.imageAspect)},extendTL:function(e,t,a,r){var i=new tpGS.gsap.timeline;return t.three.progress={value:1},i.add(tpGS.gsap.from(t.three.progress,a.dur,{value:0,delay:.05,ease:t.tpack.ie})),i},tick:function(e){e.three.material.uniforms.progress.value=e.three.progress.value},fit:function(e){e.three.plane.scale.set(1,e.three.CY)}},cube:{init:function(t,a,r,i){var n=t.three;if(n.splitdir=t.tpack.col<=1||void 0===t.tpack.col?"row":"col",n.split="row"==n.splitdir?t.tpack.row||1:t.tpack.col||1,n.divto=1/n.split,n.light=new THREE.SpotLight(16777215,1.1),n.light.position.set(5,5,10),n.light.castShadow=!0,n.scene.add(n.light),n.cubes=[n.split],n.texture=new THREE.CanvasTexture(t.shadowCanvas),n.texture.wrapS=THREE.RepeatWrapping,n.texture.wrapT=THREE.RepeatWrapping,n.texture.repeat.set(1,1),window._R_is_Editor||void 0===r.BG)n.material=new THREE.MeshPhongMaterial({transparent:!0,map:n.texture});else{n.texture_leaving=new THREE.CanvasTexture(r.BG.shadowCanvas),n.texture_leaving.wrapS=THREE.RepeatWrapping,n.texture_leaving.wrapT=THREE.RepeatWrapping,n.texture_leaving.repeat.set(1,1);var s=new THREE.MeshPhongMaterial({transparent:!0,map:n.texture}),o=new THREE.MeshPhongMaterial({transparent:!0,map:n.texture_leaving});let l={col:{90:3,180:5,270:2,"-90":2,"-180":5,"-270":3},row:{90:0,180:5,270:1,"-90":1,"-180":5,"-270":0}};n.material=[s,o,o,s,o,s];let c=e.transitionPackUtils.getEndRotation(t.tpack.sr,0,r.sdir)%360;n.material[l[n.splitdir][c]]=s}n.GRP=new THREE.Group,n.CY=1/n.camera.aspect;for(var p=0;p<n.split;p++)n.cubes[p]=e.transitionPackUtils.getCube(n.splitdir,n.divto,void 0===n.material.length?n.material.clone():[n.material[0].clone(),n.material[1].clone(),n.material[2].clone(),n.material[3].clone(),n.material[4].clone(),n.material[5].clone()],p,n.CY),n.GRP.add(n.cubes[p]);e.transitionPackUtils.fitCameraToObject(t),n.scene.add(t.three.GRP),e.transitionPackUtils.addPASS(t,a)},extendTL:function(t,a,r,i){var n,s=new tpGS.gsap.timeline,o=a.three;if(o.boxes=Array(o.split),window._R_is_Editor||e[t].firstSlideAnimDone){for(n=0;n<o.split;n++)o.boxes[n]={sr:0,rx:0,ry:0,o:1,sx:1,sy:1,sz:1};let l=tpGS.gsap.timeline();l.add(tpGS.gsap.to(o.boxes,r.dur/2,{ease:a.tpack.ie,sx:e.SATools.getSpecialValue(e.valBeau(a.tpack.sx)),sy:e.SATools.getSpecialValue(e.valBeau(a.tpack.sy)),sz:e.SATools.getSpecialValue(e.valBeau(a.tpack.sz)),stagger:{amount:"nodelay"===r.f?0:r.ms/r.stasec/2,grid:[o.split,1],from:"nodelay"===r.f?"start":r.f}},0)),l.add(tpGS.gsap.to(o.boxes,r.dur/2,{ease:a.tpack.ie,sx:1,sy:1,sz:1,stagger:{amount:"nodelay"===r.f?0:r.ms/r.stasec/2,grid:[o.split,1],from:"nodelay"===r.f?"start":r.f}})),s.add(l,i.delay);let c=l.duration()/2;s.add(tpGS.gsap.to(o.boxes,r.dur,{sr:function(t){return-THREE.Math.degToRad(e.transitionPackUtils.getEndRotation(a.tpack.sr,t,i.sdir))},ease:a.tpack.ie,stagger:{amount:"nodelay"===r.f?0:r.ms/r.stasec/2,grid:[o.split,1],from:"nodelay"===r.f?"start":r.f}}),0),s.add(tpGS.gsap.fromTo(o.GRP.rotation,c/5*4,{z:0,y:0},{z:-THREE.Math.degToRad(e.SATools.getSpecialValue(e.valBeau(a.tpack.rz),n,i.sdir)),y:-THREE.Math.degToRad(e.SATools.getSpecialValue(e.valBeau(a.tpack.ry),n,i.sdir)),x:-THREE.Math.degToRad(e.SATools.getSpecialValue(e.valBeau(a.tpack.rx),n,i.sdir)),ease:a.tpack.ige}),0),s.add(tpGS.gsap.fromTo(o.GRP.position,c,{z:0,x:0,y:0},{z:-parseFloat(a.tpack.cgz)||0,x:parseFloat(a.tpack.gx)/100||0,y:parseFloat(a.tpack.gy)/100||0}),0),s.add(tpGS.gsap.to(o.GRP.rotation,c/5*4,{z:-THREE.Math.degToRad(tpGS.gsap.utils.snap(360,e.SATools.getSpecialValue(e.valBeau(a.tpack.rz),n,i.sdir))),y:-THREE.Math.degToRad(tpGS.gsap.utils.snap(360,e.SATools.getSpecialValue(e.valBeau(a.tpack.ry),n,i.sdir))),x:-THREE.Math.degToRad(tpGS.gsap.utils.snap(360,e.SATools.getSpecialValue(e.valBeau(a.tpack.rx),n,i.sdir))),ease:a.tpack.ige}),c/5*4),s.add(tpGS.gsap.to(o.GRP.position,c,{z:0,x:0,y:0}),c)}else{for(n=0;n<o.split;n++)o.boxes[n]={o:0,sr:-THREE.Math.degToRad(e.transitionPackUtils.getEndRotation(a.tpack.sr,n,i.sdir)),sx:e.SATools.getSpecialValue(e.valBeau(a.tpack.sx)),sy:e.SATools.getSpecialValue(e.valBeau(a.tpack.sy)),sz:e.SATools.getSpecialValue(e.valBeau(a.tpack.sz))};var p=tpGS.gsap.to(o.boxes,r.dur,{o:1,sr:0,sx:1,sy:1,ease:a.tpack.ie,sz:1,stagger:{amount:"nodelay"===r.f?0:r.ms/r.stasec,grid:[o.split,1],from:"nodelay"===r.f?"start":r.f}});let u=p.duration();s.add(p,i.delay),s.add(tpGS.gsap.from(o.GRP.rotation,u/5*4,{z:-THREE.Math.degToRad(e.SATools.getSpecialValue(e.valBeau(a.tpack.rz),n,i.sdir)),y:-THREE.Math.degToRad(e.SATools.getSpecialValue(e.valBeau(a.tpack.ry),n,i.sdir)),x:-THREE.Math.degToRad(e.SATools.getSpecialValue(e.valBeau(a.tpack.rx),n,i.sdir)),ease:tpGS.Power2.inOut}),0),s.add(tpGS.gsap.from(o.GRP.position,u,{z:-parseFloat(a.tpack.cgz)||0,x:parseFloat(a.tpack.gx)/100||0,y:parseFloat(a.tpack.gy)/100||0}),0)}return s},tick:function(e){let t,a,r=e.three;for(t=0;t<r.split;t++){if(r.cubes[t].rotation["col"===r.splitdir?"x":"y"]=r.boxes[t].sr,r.cubes[t].scale.set(r.boxes[t].sx,r.CY*r.boxes[t].sy,("col"===r.splitdir?r.CY:1)*r.boxes[t].sz),void 0!==r.boxes[t].o){if(void 0===r.cubes[t].material.length)r.cubes[t].material.opacity=Math.max(0,Math.min(1,r.boxes[t].o));else for(a=0;a<r.cubes[t].material.length;a++)r.cubes[t].material[a].opacity=Math.max(0,Math.min(1,r.boxes[t].o))}r.texture.needsUpdate=!0}},fit:function(e){for(var t=0;t<e.three.split;t++)void 0!==e.three.cubes&&void 0!==e.three.cubes[t]&&("row"===e.three.splitdir&&(e.three.cubes[t].position.y=t*e.three.divto*e.three.CY-(.5*e.three.CY-e.three.divto*e.three.CY/2)),e.three.cubes[t].scale.set(1,1/e.three.camera.aspect,1))}},twist:{init:function(a,r,n,s){var o=a.tpack,l=a.three;if(o.twdi=parseFloat(o.twdi),o.twv=parseFloat(o.twv),o.twz*=-1,o.twa=parseFloat(o.twa)/100,o.twdi/=100,o.twf=i(o.twf),o.tws=i(o.tws),o.vert=a.mDIM.height>a.mDIM.width,l.texture=new THREE.CanvasTexture(a.shadowCanvas),l.texture.wrapS=THREE.RepeatWrapping,l.texture.wrapT=THREE.RepeatWrapping,l.texture.repeat.set(1,1),window._R_is_Editor||void 0===n.BG)l.material=t({transparent:!0,map:l.texture,opt:o,coming:l.texture});else{l.texture_leaving=new THREE.CanvasTexture(n.BG.shadowCanvas),l.texture_leaving.wrapS=THREE.RepeatWrapping,l.texture_leaving.wrapT=THREE.RepeatWrapping,l.texture_leaving.repeat.set(1,1);var c=t({transparent:!0,map:l.texture,opt:o,coming:l.texture,leaving:l.texture_leaving}),p=t({transparent:!0,map:l.texture_leaving,opt:o,coming:l.texture,leaving:l.texture_leaving});l.material=[p,p,p,p,c,p]}l.cube=new THREE.Mesh(new THREE.BoxBufferGeometry(1,1,1,64,64,64),l.material),l.GRP=new THREE.Group,l.CY=1/l.camera.aspect,l.GRP.add(l.cube),e.transitionPackUtils.fitCameraToObject(a),l.scene.add(l.GRP),e.transitionPackUtils.addPASS(a,r),l.cube.scale.set(1,1/l.camera.aspect,1/l.camera.aspect)},extendTL:function(e,t,r,i){var n=t.tpack,s="simple"!==n.twe,o=t.three.cube,l=t.three.GRP,c=n.ie,p=a(n.twv),u=n.twc?1:.7;u="right"===n.twd?u:-u;var d=new tpGS.gsap.timeline({onUpdate:function(){var e;if(n.twf&&(e=Math.abs(t.three.cube.position.z+t.three.GRP.position.z)+t.three.camera.position.z,e-=-(.3*(e-50)/n.twz*1)),t.three.cube.material.length)for(var a=0;a<t.three.cube.material.length;a++)t.three.cube.material[a].uniforms.twistProg.value=t.three.cube.material[a].uniforms.twistValue.value/p,n.twf&&(t.three.cube.material[a].uniforms.fogNear.value=e,t.three.cube.material[a].uniforms.fogFar.value=e+.5);else t.three.cube.material.uniforms.twistProg.value=t.three.cube.material.uniforms.twistValue.value/p,n.twf&&(t.three.cube.material.uniforms.fogNear.value=e,t.three.cube.material.uniforms.fogFar.value=e+.5)}});if(n.vert?d.set(o.rotation,{y:a(90)}):d.set(o.rotation,{x:a(90)}),d.fromTo(l.position,{z:0},{z:n.twz}),d.fromTo(l.rotation,{x:0},{x:a(n.rx)},0),d.fromTo(l.rotation,{y:0},{y:a(n.ry)},0),d.fromTo(l.rotation,{z:0},{z:a(n.rz)},0),d.addLabel("in","-=0.4"),t.three.cube.material.length)for(var $=0;$<t.three.cube.material.length;$++){if(s){var v=t.three.cube.material[$].uniforms.twistStart;d.fromTo(v,{value:u},{value:-u,ease:c,duration:n.twc?2:1},"in")}v=t.three.cube.material[$].uniforms.twistValue,d.fromTo(v,{value:0},{value:p,duration:1,ease:c,immediateRender:!1},"in")}else s&&d.fromTo(o.material.uniforms.twistStart,{value:u},{value:-u,ease:c,duration:n.twc?2:1},"in"),d.fromTo(o.material.uniforms.twistValue,{value:0},{value:p,duration:1,ease:c,immediateRender:!1},"in");if(d.addLabel("out",n.twc?"-=1.5":"-=0"),o.material.length)for($=0;$<t.three.cube.material.length;$++)s&&!n.twc&&(v=o.material[$].uniforms.twistStart,d.fromTo(v,{value:n.twc?0:-u},{value:n.twc?-u:u,duration:1,ease:c,onStartParams:[$]},"out")),v=t.three.cube.material[$].uniforms.twistValue,d.to(v,{value:0,duration:1,ease:c,immediateRender:!1},"out");else s&&!n.twc&&d.fromTo(o.material.uniforms.twistStart,{value:n.twc?0:-u},{value:n.twc?-u:u,duration:1,ease:c},"out"),d.to(o.material.uniforms.twistValue,{value:0,duration:1,ease:c,immediateRender:!1},"out");return d.to(l.rotation,{x:0},"out"),d.to(l.rotation,{y:0},"out"),d.to(l.rotation,{z:0},"out"),n.vert?d.to(o.rotation,{y:0,duration:1},"out"):d.to(o.rotation,{x:0,duration:1},"out"),d.to(l.position,{z:0,duration:1},"out+=0.7"),d.duration(r.dur),d},tick:function(e){},fit:function(e){}}},transitionPack:function(t,a,r,i){if("out"!==i.direction){if(window._R_is_Editor&&void 0===e.tansPackInited&&(e.transitionpackInit(),e.tansPackInited=!0),window._R_is_Editor?a.tpack=jQuery.extend(!0,e.transitionPackEffects.defaults().tpack,void 0!==i&&void 0!==i.addOns&&void 0!==i.addOns.tpack?{...i.addOns.tpack}:{...RVS.SLIDER[RVS.S.slideId].slide.slideChange.addOns.tpack}):e[t].sbgs[a.key].slideanimation.addOns&&e[t].sbgs[a.key].slideanimation.addOns.tpack?a.tpack=jQuery.extend(!0,e.transitionPackEffects.defaults().tpack,e[t].sbgs[a.key].slideanimation.addOns.tpack):a.tpack=jQuery.extend(!0,e.transitionPackEffects.defaults().tpack,e.transitionPackUtils.getTpackDatas(t,e.gA(e[t].pr_next_slide[0],"tpack"))),a.tpack.oy=100-parseInt(a.tpack.oy),r.dur=r.ms/r.sec,a.three){for(;a.three.scene.children.length>0;)a.three.scene.remove(a.three.scene.children[0]);null!==a.three.canvas.parentNode&&a.three.canvas.parentNode.removeChild(a.three.canvas)}a.three=e.transitionPackUtils.getWebGLCanvas(),window._R_is_Editor||void 0===i.BG?a.canvas.parentNode.appendChild(a.three.canvas):i.BG.canvas.parentNode.appendChild(a.three.canvas),a.canvas.style.display="none",a.three.planeAspectRatio=16/9,a.three.fov=150,a.callFromAnimatedCanvasUpdate=e.transitionPackUtils.webGlSceneUpdate,a.callFromAnimatedCanvasUpdateEffect=i.effect,e.animatedCanvasUpdate(t,a),a.three.renderer=new THREE.WebGLRenderer({canvas:a.three.canvas,alpha:!0}),a.three.renderer.setClearColor(16777215,0),a.three.camera=new THREE.PerspectiveCamera(a.three.fov,a.three.canvas.width/a.three.canvas.height,.1,1e3),a.three.camera.position.z=50,a.three.scene=new THREE.Scene,e.transitionPackEffects[i.effect].init(a,r,i,t);var n=tpGS.gsap.timeline({onUpdate:function(){window._R_is_Editor&&(a.canvas.style.display="none",tpGS.gsap.set(a.three.canvas,{autoAlpha:1}),i.BG&&(i.BG.canvas.style.display="none")),e.transitionPackEffects[i.effect].tick(a,i),e.transitionPackUtils.webGlSceneUpdate(a)},onStart:function(){i.BG&&(i.BG.canvas.style.display="none")},onComplete:function(){e.slideAnimFinished(t,a,{direction:"in",BG:i.BG,slide:i.slide},!0),tpGS.gsap.set(i.slide,{zIndex:20}),void 0!==i.BG&&e.slideAnimFinished(t,i.BG,{direction:"out",slide:i.outslide}),delete a.callFromAnimatedCanvasUpdate,void 0!==i.BG&&(i.BG.canvas.style.display="block",i.BG.canvas.style.opacity=0),e.updateSlideBGs(t),tpGS.gsap.to(a.three.canvas,.3,{autoAlpha:0,onStart:function(){a.canvas.style.display="block",i.BG&&tpGS.gsap.set(i.outslide,{zIndex:10})},onComplete:function(){if(!window._R_is_Editor){for(;a.three.scene.children.length>0;)a.three.scene.remove(a.three.scene.children[0]);null!==a.three.canvas.parentNode&&a.three.canvas.parentNode.removeChild(a.three.canvas),void 0!==i.BG&&i.BG.ctx.clearRect(0,0,2*a.canvas.width,2*a.canvas.height)}}})}});n.add(e.transitionPackEffects[i.effect].extendTL(t,a,r,i),0),window._R_is_Editor?RVS.TL[RVS.S.slideId].slide.add(n,0):e[t].mtl.add(n,i.delay)}}}),window.RS_MODULES=window.RS_MODULES||{},window.RS_MODULES.tpack={loaded:!0,version:"3.0.0"},window.RS_MODULES.checkMinimal&&window.RS_MODULES.checkMinimal()}();